/* margin */
.margin-bottom { margin-bottom: 0.75em; }
.no-margin-bottom { margin-bottom: 0; }

/* lists */
.dl-colonated {
  > dt {
    float: left;

    &:after {
      content: ': ';
      white-space: pre;
    }
  }
}

.list-army-list {
  list-style: none;
  margin-bottom: 0;
  padding-left: 0;

  > li:not(:first-child) {
    margin-top: 0.75em;
  }
}

.list-upper-roman {
  counter-reset: list-upper-roman;

  ol& {
    list-style-type: none;
    padding-left: 0;
  }

  > dt:before, > li:before {
    counter-increment: list-upper-roman;
    content: counter(list-upper-roman, upper-roman) ' â€“ ';
    font-weight: bold;
  }
}

/* tables */
.table-borderless {
  > thead, > tbody, > tfoot {
    > tr {
      > th, > td { border: none; }
    }
  }

  > tbody + tbody { border: none; }
}

.table-captioned {
  border: 1px solid #999;
  border-top: 0;

  > caption {
    background: #ccc;
    border: 1px solid #999;
    border-bottom: 0;
    font-weight: bold;
    padding: 8px;
    text-align: left;
  }

  > thead, > tfoot { font-style: italic; }
}

@media screen and (max-width: 767px) {
  .table-responsive {
    border-color: #999;

    > .table-army-list, > .table-captioned {
      &, > caption { border: 0; }
    }
  }
}

.table-centered {
  margin: 0 auto;
  width: auto;
}

.table-army-list {
  .table-borderless();
  .table-captioned();
  width: 100%;

  > caption {
    background: none;
    text-align: center;
    text-transform: uppercase;
  }
  > thead {
    > tr {
      > th {
        font-style: normal;
        text-transform: uppercase;
      }

      &:last-child > th { border-bottom: 1px solid #999; }
    }
  }
  > thead > tr > td { text-align: center; }
  > tbody > .stripe { background: #eee; }
}

/* classes */
.short-story {
  background: #eee;
  border: 1px solid #999;
  font-style: italic;
  padding: 1em;
  margin: 0 0 .75em;

  > :last-child { margin-bottom: 0; }
}
.design-concept, .example-of-play, .special-rule {
  .short-story();
  font-style: normal;

  &:before {
    content: 'Design Concept';
    display: block;
    font-weight: bold;
    text-transform: uppercase;
    text-align: center;
  }

  > :first-child {
    font-size: 100%;
    font-style: italic;
    font-weight: bold;
    margin: 0 0 1em;
    text-align: center;
  }
}
.example-of-play:before { content: 'Example of Play'; }
.special-rule:before { content: 'Special Rule'; }

.datasheet {
  overflow-x: auto;
}
.unit {
  background: #eee;

  &:nth-child(even) { background: #fff; }

  .stats, weapons { display: table; }

  .stats, .weapon-line {
    > span {
      display: table-cell;
      padding: 0 .5em;

      &:before {
        display: block;
        font-weight: bold;
      }

      &.name {
        width: 50%;
        &:before { content: 'Name'; }
      }
      &.type:before { content: 'Type'; }
      &.speed:before { content: 'Speed'; }
      &.armour:before { content: 'Armour'; }
      &.cc:before { content: 'CC'; }
      &.ff:before { content: 'FF'; }
      &.range:before { content: 'Range'; }
      &.firepower {
        width: 50%;
        &:before { content: 'Firepower'; }
      }
    }
  }
  .weapon-line > span.name:before { content: 'Weapon'; }

  .firepower {
    &:after { content: ', '; }

    &:last-child:after { content: none; }
  }

  .special-rules {
    padding-left: 0;

    &, li { display: inline; }
    li {
      .firepower();
    }
  }

  .notes {
    clear: both;
    padding: 0 .5em;

    .special-rules {
      font-style: italic;

      > :last-child:after { content: '.'; }
    }
    > :last-child { display: inline; }
  }

}

@media screen and (min-width: 768px) {
  .unit {
    .stats, weapons {
      width: 50%;
      float: left;
    }
  }
}

/* IDs */
#examples-of-formations {
  figcaption {
    background: #000;
    color: #fff;
    font-style: italic;
    font-weight: bold;
    max-width: 351px;
    text-align: center;
  }

  figcaption, img {
    border: 2px solid #999;
    margin: 0 auto;

    + img { border-top-width: 0; }
  }
}

#weapon-fire-arc-figures {
  margin: 0 auto;
  max-width: 100%;
  width: 2 * 194px;

  &, img { border: 1px solid #999; }

  figure {
    position: relative;
    float: left;
    width: 50%;
  }

  figcaption {
    padding: 0 .5em;
    position: absolute;
    width: 100%;
  }
}

#abbreviations {
  .short-story();
  font-style: normal;

  > * { margin-bottom: 0; }
}

/* heading numbering */
main:not(.no-outline) {
  counter-reset: h1;

  h1[id]:not(.no-count) {
    counter-increment: h1;
    counter-reset: h2, h3;

    &:before { content: counter(h1) '.0 '; }
  }

  h2[id]:not(.no-count) {
    counter-increment: h2;
    counter-reset: h3;

    &:before { content: counter(h1) '.' counter(h2) ' '; }
  }
  .force, .army-list {
    counter-increment: h2;

    h2[id]:not(.no-count) { counter-increment: none; }
  }

  h3[id]:not(.no-count) {
    counter-increment: h3;

    &:before { content: counter(h1) '.' counter(h2) '.' counter(h3) ' '; }
  }
}