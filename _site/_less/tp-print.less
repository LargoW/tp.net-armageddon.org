@import 'reset';
@import 'page';
@import 'mixins';
@import 'tp';

/**/
body { font: 10pt/1 Garamond, serif; }

a {
  color: inherit;
  text-decoration: none;
}

abbr[title] { border-bottom: 0; }

/* type */
h1 {
  .text(16pt);
  page-break-before: right;
}
h2 {
  .text(12pt);
  column-break-before: always;
}
h1, h2 { text-transform: uppercase; }
h3, h4 {
  .text(10pt);
}
h1, h2, h3, h4 {
  bookmark-label: none;
  font-weight: bold;
  margin: 0;

  &[id] { bookmark-label: content(); }
}

p, blockquote, figcaption, dl, ol, ul, table {
  .text(10pt);

  p, blockquote, figcaption, dl, ol, ul, table { margin-bottom: 0; }
}

blockquote {
  font-style: italic;

  > :first-child:before { content: '“'; }
  > p:last-of-type:after { content: '”'; }
}

/* lists */
dt { font-weight: bold; }

ol, ul { padding-left: 1.5em; }

ul { list-style-type: disc; }

.dl-colonated > dd:not(:last-child) { margin-bottom: @line-height-computed; }

.list-army-list > li:not(:first-child) { margin-top: 3pt; }

/* tables */
th { font-weight: bold; }

th, td { padding: 0 0.5em; }

.table-captioned {
  border-width: 1pt;
  margin-bottom: @line-height-computed - 2;
  width: 100%;

  > caption {
    border-width: 1pt;
    padding: 0 0.5em;
  }
}

.table-army-list {
  .text(8pt);
  margin-bottom: 3pt;

  > caption {
    font-size: percentage(9/8);
    padding: 0 0.5em;
  }
  > thead > tr:last-child > th { border-bottom-width: 1pt; }

  .table-army-list { font-size: 100%; }
}

/* classes */
.margin-bottom { margin-bottom: @line-height-computed; }

.short-story {
  .text(10pt);
  border-width: 1pt;
  padding-bottom: 6pt;
  padding-top: 6pt;
  page-break-inside: avoid;
}

.design-concept, .example-of-play, .special-rule {
  .short-story();
  font-style: normal;
}

.force > :first-child {
  .margin-bottom();
  .text-center();
}

.unit {
  .clearfix();
  .text(9pt);

  .stats, .weapons {
    float: left;
    width: 49.999%;
  }
}

.army-list {
  > h3.page-break {
    .text(12pt);
    .text-center();
    .text-uppercase();

    &, + p { margin-bottom: 3pt; }
  }

  .army-list-table-container {
    padding-bottom: 3pt;
    padding-top: 3pt;
  }
}

/* IDs */
#table-of-contents {
  a {
    display: block;

    &.h1 {
      content: target-counter(attr(href), h1) '.0 ' target-content(attr(href)) leader('.') target-counter(attr(href), page);
    }
    &.h2 {
      content: target-counter(attr(href), h1) '.' target-counter(attr(href), h2) ' ' target-content(attr(href)) leader('.') target-counter(attr(href), page);
      margin-left: 1em;
    }
    &.h3 {
      content: target-counter(attr(href), h1) '.' target-counter(attr(href), h2) '.' target-counter(attr(href), h3) ' ' target-content(attr(href)) leader('.') target-counter(attr(href), page);
      margin-left: 2em;
    }
    &.no-count {
      content: target-content(attr(href)) leader('.') target-counter(attr(href), page);
    }
  }
}

#examples-of-formations {
  figcaption, img { border-width: 1pt; }
}

#examples-of-terrain {
  figure {
    display: table;

    + figure figcaption { padding: 0 1em 0 0; }
  }
  div, figcaption {
    display: table-cell;
    width: 67%;
    vertical-align: middle;
  }
  figcaption {
    padding: 0 0 0 1em;
    width: 33%;
  }
}

#weapon-fire-arcs + .row {
  .col-sm-push-6 {
    float: right;
    margin-bottom: 0;
  }
  .col-sm-pull-6 {
    float: left;
    width: 20em;
  }
}

#weapon-fire-arc-figures {
  &, img { border-width: 1pt; }
}

#abbreviations dd { margin-bottom: 0; }

#reference-sheet {
  #epic-armageddon-reference-sheet {
    .text(14pt);
    .text-center();
    .text-uppercase();
  }
  .dl-colonated > dd { margin: 0; }
}